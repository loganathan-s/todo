!function(t){function e(a){if(n[a])return n[a].exports;var r=n[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,a){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=5)}([function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i=n(3),s=n(4),u=n(2),c=function(){function t(t,e){var n=[],a=!0,r=!1,o=void 0;try{for(var i,s=t[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!e||n.length!==e);a=!0);}catch(t){r=!0,o=t}finally{try{!a&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),d=function(t){function e(){return a(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this))}return o(e,t),l(e,[{key:"index",value:function(){var t=this;s.a.get(i.a+"/api/tasks").then(function(e){var n=!0,a=!1,r=void 0;try{for(var o,i=Object.entries(e)[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var s=c(o.value,2),u=(s[0],s[1]);t.updateTaskList(u)}}catch(t){a=!0,r=t}finally{try{!n&&i.return&&i.return()}finally{if(a)throw r}}}).catch(function(t){return t.message})}},{key:"create",value:function(t){var e=this;s.a.post(i.a+"/api/tasks",t).then(function(){return e.resetForm(),e.updateTaskList(t)}).catch(function(t){return t.message})}},{key:"update",value:function(t,e){var n=this,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];s.a.put(i.a+"/api/tasks/"+e,t).then(function(){a?n.updateTaskContent(t):n.updateUserDom(e)}).catch(function(t){return t.message})}},{key:"delete",value:function(t){var e=this,n=event.currentTarget.id.match(/\d+/g);s.a.delete(i.a+"/api/tasks/"+n).then(function(){return e.removeTaskInDom(n)}).catch(function(t){return t.message})}},{key:"updateTaskList",value:function(t){var e='<div class="taskItem" id="taskDetail-'+t.id+'">\n               <div class="taskText '+(t.text.includes("-TASKCOMPLETED-")?"lineThrough":"")+'" id="taskText'+t.id+'">\n                  <p>\n                    '+t.text.replace("-TASKCOMPLETED-","")+'\n                  </p>  \n               </div>\n               <div class="options">\n                    <a class="button editTask" id="taskEdit-'+t.id+'">Edit</a> \n                    <a class="button" id="task-'+t.id+'">Mark complete</a>\n                    <a class="button updateFlex" id="taskDelete-'+t.id+'">Delete</a>\n               </div>\n          </div>\n            <div class="updateForm hide" id="taskUpdateForm-'+t.id+'">\n                <p>\n                 <input class="input" type="text" id="UpdatedContent-'+t.id+'" autocomplete="off">\n                </p>\n               <p>\n                 <a class="button updateTask" id="taskUpdate-'+t.id+'""> Update</a>\n                 <a class="button" id="cancelUpdate-'+t.id+'"> Cancel</a>\n               </p>\n            </div>     \n          ';this.parentElement.insertAdjacentHTML("beforeend",e);var n=this;document.querySelectorAll("#taskUpdate-"+t.id+", #task-"+t.id).forEach(function(t){t.addEventListener("click",n.markCompleteOrIncomplte.bind(n))}),document.querySelectorAll("#taskEdit-"+t.id+", #cancelUpdate-"+t.id).forEach(function(t){t.addEventListener("click",n.displayUpdateForm.bind(this))}),document.querySelector("#taskDelete-"+t.id).addEventListener("click",this.delete.bind(this))}},{key:"updateUserDom",value:function(t){document.querySelector("#taskText"+t).classList.toggle("lineThrough"),document.querySelector("#task-"+t).classList.toggle("completedTask")}},{key:"removeTaskInDom",value:function(t){document.querySelector("#taskText"+t).parentNode.remove()}},{key:"displayUpdateForm",value:function(){var t=event.currentTarget.id.match(/\d+/g);document.querySelector("#taskUpdateForm-"+t).classList.toggle("hide"),document.querySelector("#taskDetail-"+t).classList.toggle("hide")}},{key:"updateTaskContent",value:function(t){document.querySelector("#taskText"+t.id).firstChild.nextSibling.innerHTML=""+t.text.replace("-TASKCOMPLETED-",""),document.querySelector("#taskUpdateForm-"+t.id).classList.toggle("hide"),document.querySelector("#taskDetail-"+t.id).classList.toggle("hide")}}]),e}(u.a);e.a=d},function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=n(0),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),i=function(){function t(){a(this,t),this.taskContent=document.querySelector("#taskDescription"),this.createTaskButton=document.querySelector("#createTask"),this.parentElement=document.querySelector("#todoPanel")}return o(t,[{key:"init",value:function(){this.taskContent.addEventListener("keyup",this.toggleCreateTaskButton.bind(this)),this.createTaskButton.addEventListener("click",this.createTask.bind(this)),this.displayAllTasks()}},{key:"displayAllTasks",value:function(){(new r.a).index()}},{key:"toggleCreateTaskButton",value:function(){this.createTaskButton.classList.remove("disableClick"),this.taskContent.value?this.createTaskButton.removeAttribute("disabled"):this.createTaskButton.setAttribute("disabled","true")}},{key:"createTask",value:function(){var t=new r.a,e=(new Date).getTime(),n=this.taskContent.value;if(n){var a={id:e,text:n};t.create(a)}else alert("Oops! Task is empty, Please Enter one."),this.createTaskButton.classList.add("disableClick")}},{key:"resetForm",value:function(){this.taskContent.value="",this.createTaskButton.setAttribute("disabled",!0)}},{key:"toggleUpdateForm",value:function(t){document.querySelector("#taskUpdateForm-"+t).classList.toggle("hide"),document.querySelector("#taskDetail-"+t).classList.toggle("hide")}},{key:"markCompleteOrIncomplte",value:function(t){var e=new r.a,n=t.currentTarget.id.match(/\d+/g),a=(document.querySelector("#task-"+n),document.querySelector("#taskText"+n).textContent);if(t.currentTarget.classList.contains("updateTask")){a=document.querySelector("#UpdatedContent-"+n).value;var o={id:n,text:a};e.update(o,n,!0)}else{var o={id:n,text:a+"-TASKCOMPLETED-"};e.update(o,n)}}}]),t}();e.a=i},function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=n(0),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),i=function(){function t(){a(this,t),this.taskContent=document.querySelector("#taskDescription"),this.createTaskButton=document.querySelector("#createTask"),this.parentElement=document.querySelector("#todoPanel")}return o(t,[{key:"init",value:function(){this.taskContent.addEventListener("keyup",this.toggleCreateTaskButton.bind(this)),this.createTaskButton.addEventListener("click",this.createTask.bind(this)),this.displayAllTasks()}},{key:"displayAllTasks",value:function(){(new r.a).index()}},{key:"toggleCreateTaskButton",value:function(){this.createTaskButton.classList.remove("disableClick"),this.taskContent.value?this.createTaskButton.removeAttribute("disabled"):this.createTaskButton.setAttribute("disabled","true")}},{key:"createTask",value:function(){var t=new r.a,e=(new Date).getTime(),n=this.taskContent.value;if(n){var a={id:e,text:n};t.create(a)}else alert("Oops! Task is empty, Please Enter one."),this.createTaskButton.classList.add("disableClick")}},{key:"resetForm",value:function(){this.taskContent.value="",this.createTaskButton.setAttribute("disabled",!0)}},{key:"toggleUpdateForm",value:function(t){document.querySelector("#taskUpdateForm-"+t).classList.toggle("hide"),document.querySelector("#taskDetail-"+t).classList.toggle("hide")}},{key:"markCompleteOrIncomplte",value:function(t){var e=new r.a,n=t.currentTarget.id.match(/\d+/g),a=(document.querySelector("#task-"+n),document.querySelector("#taskText"+n).textContent);if(t.currentTarget.classList.contains("updateTask")){a=document.querySelector("#UpdatedContent-"+n).value;var o={id:n,text:a};e.update(o,n,!0)}else{var o={id:n,text:a+"-TASKCOMPLETED-"};e.update(o,n)}}}]),t}();e.a=i},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var a="http://localhost:3000"},function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),o=function(){function t(){a(this,t)}return r(t,null,[{key:"get",value:function(t){return fetch(t).then(function(t){if(!t.ok)throw new Error(t.statusText);return t.json()}).catch(function(t){console.log(t)})}},{key:"post",value:function(t,e){return fetch(t,{method:"post",headers:this.HEADERS,body:JSON.stringify(e)}).then(function(t){if(!t.ok)throw new Error(t.statusText);return!0}).catch(function(t){console.log(t)})}},{key:"put",value:function(t,e){return fetch(t,{method:"put",headers:this.HEADERS,body:JSON.stringify(e)}).then(function(t){if(!t.ok)throw new Error(t.statusText);return!0}).catch(function(t){console.log(t)})}},{key:"delete",value:function(t){return fetch(t,{method:"delete",headers:this.HEADERS}).then(function(t){if(!t.ok)throw new Error(t.statusText);return t.ok}).catch(function(t){console.log(t)})}},{key:"HEADERS",get:function(){return{Accept:"application/json, text/plain","Content-Type":"application/json"}}}]),t}();e.a=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(1);window.addEventListener("load",function(){(new a.a).init()})}]);
//# sourceMappingURL=bundle.js.map